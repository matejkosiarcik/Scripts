language: generic

os:
  - linux
  - osx

addons:
  apt:
    update: true
  homebrew:
    update: true
    packages:
      - bats-core
      - duti

matrix:
  fast_finish: true

install:
  - |
    if [ "${TRAVIS_OS_NAME}" == 'linux' ]; then
      npm install -g bats
    fi

before_script:
  - uname -a
  - |
    which sh
    which bash
    which zsh
    which ksh
    which mksh
    which dash
    which yash
  - |
    if [ "${TRAVIS_OS_NAME}" == 'osx' ]; then
      sw_vers
    fi

script:
  - bats 'tests/main.bats'
  - sh home/install.sh
  - sh setup/install.sh
  - sh bin/install.sh
